Лабораторная работа №1
Пользователи и группы в Linux

Цель: ознакомиться с правилами создания пользователей и групп. Изучить права доступа к
объектам в OC Linux

1. Информация о пользователях доступна в файле /etc/passwd
Просмотр файла:
vim /etc/passwd

Указаны имя пользователя, номер пользователя, номер группы, домашний каталог,
командная оболочка
  
Информация о группах доступна в файле  /etc/group
vim /etc/group
Указаны имя группы и номер группы

Закрытая для пользователей информация о паролях доступна для администратора в файле
/etc/shadow
sudo /etc/shadow

Имя пользователя, пароль (или "!" в случае блокирования учётной записи), временные 
настройки учетной записи (время до смены пароля, время жизни записи и т.д)

Закрытая для пользователей информация о паролях для групп доступна для аминистратора в
файле /etc/gshadow
"!" - означает отсутствие пароля для групп
										

Права доступа к любому объекту устанавливается администратором припомощи команды сhmod
1 Вариант:
sudo chmod 775 /home/tmp3
Установили полный доступ к каталогу /home/tmp3 для владельца каталога  и группы владельцев, а для всех право на просмотр (x) и чтение каталога (r)  
2 Вариант:
sudo chmod o+w /home/tmp3 
Установили  право для всех пользователей на запись в каталог /home/tmp3
sudo chmod g-w /home/tmp3
Убрали право на запись у группы владельцев каталога /home/tmp3

Владельца и группу владельцев любого объекта администратору можно поменять при помощи команды chown 
sudo chmod tmp4:student /home/tmp3/F1
Изменили владельца каталога /home/tmp3/F1 на пользователя tmp4, а группу владельцев - на группу student
sudo chown :tmp /home/tmp3/readme

Для работы в других существующих группах можно использовать команду newqr tmp5
Для смены группы необходимо знать пароль группы после смены группы можно получитьь общий доступ к объектам по группе владельцев каждого объекта
После завершения операций под общей группой выход из группы в свою группу по  умолчанию осуществляется командой exit 

Расширенные права SUID, GUID, sticky bit
Бит SUID позволяет выполнять файл от имени владельца файла
эта возможность используется для представления и дополнительных прав процессу когда необходимо обращение к недоступным для обычных пользователей ресурсам например для записи в файл /etc/shadow пр смене пароля
Установка бита осуществляется командой chmod:

sudo chmod u+s "имя файла"
sudo chmod 4775 "имя файла"

установленный бит отображается буквой S в разрешениях запуска для владельца файла
Доступ: (4755/-rwxr-xr-x)

Если владелец не имеет прав доступа к выполнению файла, установленный бит отображается прописной буквой s:
Доступ: (4655/-rwSr-xr-x)

SUID имеет смысл устанавливать для файлов но не для папок.

Бит GUID позволяет запускать файл от имени группы владельцев, а также может влиять на режимы доступа к объектам, находящимся внутри папки с установленным битом GUID

Установки бита осуществляется командой chmod:

sudo chmod g+s имя файла или имя папки
sudo chmod 2775 имя файла или папки

При установке GUID на папку все объекты, созданные после этого внутри этой папки, наследуют группу владельцев

Установленный бит отображается буквой s в разрешениях для запуска для группы владельцев:
Доступ: (2774/-rwxrwsr--) - для файла
Доступ: (2775/drwxrwsr-x) - для папки

Каталоги внутри папки с установенным GUID-битом получают такую же группу владельцев и установленный GUID-бит.

sticky bit устанавливается для изменения правил удаления объектов внутри папки 
позволяет запретить удал для пользователей которые имеют право на запись но не
являются владельцами объектов и не включены в группу владельцев папки

Установленный бит отобр буквой t в разрешениях на запуск для пользователей "Other" Уст только для папок
Установка бита :

sudo chmod o+t <Имя папки>
sudo chmod 1775 <Имя пользователя>

Имя файлы или папки

